# ==============================================================================
# .env.example
# Environment variables template for Persistent Temp Mail
# Copy to .env.development or .env.production and fill in values
# ==============================================================================

# =============================================================================
# Server Configuration
# =============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# =============================================================================
# Logging Configuration
# Requirements: 14.3 - Application logs SHALL use structured JSON format
# Requirements: 14.4 - Application logs SHALL include correlation IDs for request tracing
# Requirements: 14.10 - System SHALL support log level configuration per environment
# =============================================================================
# Log level: debug, info, warn, error (default: info)
LOG_LEVEL=info
# Log format: json, text (default: json for production)
LOG_FORMAT=json
# Log output: stdout, stderr, or file path (default: stdout)
LOG_OUTPUT=stdout
# Add source file and line number to log entries (default: false)
LOG_ADD_SOURCE=false

# =============================================================================
# Database Configuration
# =============================================================================
DB_HOST=postgres
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DB_NAME=persistent_temp_mail
DB_SSLMODE=disable

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_DB=0
REDIS_ENABLED=true

# =============================================================================
# JWT Configuration
# Generate with: openssl rand -base64 32
# =============================================================================
JWT_ACCESS_SECRET=CHANGE_ME_ACCESS_SECRET_MIN_32_CHARS
JWT_REFRESH_SECRET=CHANGE_ME_REFRESH_SECRET_MIN_32_CHARS
JWT_ACCESS_EXPIRY=15
JWT_REFRESH_EXPIRY=10080
JWT_ISSUER=persistent-temp-mail

# =============================================================================
# Domain Configuration
# =============================================================================
DOMAIN_MAIL_SERVER=mail.webrana.id
DOMAIN_TXT_PREFIX=_tempmail-verification
DOMAIN_LIMIT=5
DOMAIN_SSL_ENABLED=true

# =============================================================================
# S3/MinIO Storage Configuration
# =============================================================================
S3_ENDPOINT=minio:9000
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=CHANGE_ME_S3_ACCESS_KEY
S3_SECRET_ACCESS_KEY=CHANGE_ME_S3_SECRET_KEY
S3_BUCKET=persistent-temp-mail-attachments
S3_USE_SSL=false

# =============================================================================
# SMTP Server Configuration
# =============================================================================
SMTP_PORT=25
SMTP_HOSTNAME=mail.webrana.id
SMTP_MAX_CONNECTIONS=100
SMTP_MAX_CONNECTIONS_PER_IP=5
SMTP_CONNECTION_TIMEOUT=5
SMTP_MAX_MESSAGE_SIZE=26214400
SMTP_MAX_RECIPIENTS=100
SMTP_RATE_LIMIT_PER_MINUTE=20
SMTP_TLS_ENABLED=true
SMTP_TLS_CERT_FILE=/etc/ssl/certs/smtp.crt
SMTP_TLS_KEY_FILE=/etc/ssl/private/smtp.key

# =============================================================================
# Alias Configuration
# =============================================================================
ALIAS_MAX_PER_USER=50

# =============================================================================
# MinIO Configuration (for development)
# =============================================================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=CHANGE_ME_MINIO_PASSWORD

# =============================================================================
# Grafana Configuration
# =============================================================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD

# =============================================================================
# Backup Configuration
# =============================================================================
S3_BACKUP_BUCKET=persistent-temp-mail-backups
BACKUP_ENCRYPTION_KEY=CHANGE_ME_BACKUP_ENCRYPTION_KEY

# =============================================================================
# Frontend Configuration
# =============================================================================
NEXT_PUBLIC_API_URL=https://api.webrana.id
NEXT_PUBLIC_WS_URL=wss://api.webrana.id
