# ==============================================================================
# .env.supabase.example
# Environment variables template untuk deployment dengan Supabase
# Copy ke .env.production dan isi dengan nilai yang sesuai
# ==============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
ENVIRONMENT=production
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================================================
# SUPABASE DATABASE (PostgreSQL)
# Dapatkan dari: Supabase Dashboard > Project Settings > Database
# Gunakan Connection Pooler (port 6543) untuk production
# =============================================================================
DB_HOST=aws-0-ap-southeast-1.pooler.supabase.com
DB_PORT=6543
DB_USER=postgres.YOUR_PROJECT_REF
DB_PASSWORD=YOUR_SUPABASE_DB_PASSWORD
DB_NAME=postgres
DB_SSLMODE=require

# =============================================================================
# SUPABASE STORAGE (S3-Compatible)
# Dapatkan dari: Supabase Dashboard > Project Settings > API > S3 Access Keys
# =============================================================================
S3_ENDPOINT=YOUR_PROJECT_REF.supabase.co/storage/v1/s3
S3_REGION=auto
S3_ACCESS_KEY_ID=YOUR_S3_ACCESS_KEY
S3_SECRET_ACCESS_KEY=YOUR_S3_SECRET_KEY
S3_BUCKET=persistent-temp-mail-attachments
S3_USE_SSL=true
S3_PRESIGNED_URL_EXPIRY=15
S3_LARGE_FILE_THRESHOLD=10485760

# =============================================================================
# JWT AUTHENTICATION
# Generate dengan: openssl rand -hex 32
# =============================================================================
JWT_ACCESS_SECRET=GENERATE_64_CHAR_SECRET_HERE
JWT_REFRESH_SECRET=GENERATE_64_CHAR_SECRET_HERE
JWT_ACCESS_EXPIRY=15
JWT_REFRESH_EXPIRY=10080
JWT_ISSUER=persistent-temp-mail

# =============================================================================
# REDIS CACHE
# Generate password dengan: openssl rand -base64 24
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=GENERATE_SECURE_PASSWORD_HERE
REDIS_ENABLED=true

# =============================================================================
# SMTP SERVER
# =============================================================================
SMTP_PORT=25
SMTP_HOSTNAME=mail.webrana.id
SMTP_MAX_CONNECTIONS=100
SMTP_MAX_CONNECTIONS_PER_IP=5
SMTP_MAX_MESSAGE_SIZE=26214400
SMTP_TLS_ENABLED=true
SMTP_TLS_CERT_FILE=/etc/ssl/certs/fullchain.pem
SMTP_TLS_KEY_FILE=/etc/ssl/certs/privkey.pem

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================
DOMAIN_MAIL_SERVER=mail.webrana.id
DOMAIN_TXT_PREFIX=_tempmail-verification
DOMAIN_LIMIT=5

# =============================================================================
# CORS
# =============================================================================
CORS_ORIGINS=https://webrana.id,https://www.webrana.id

# =============================================================================
# SSE (Server-Sent Events)
# =============================================================================
SSE_HEARTBEAT_INTERVAL=30
SSE_CONNECTION_TIMEOUT=3600
SSE_MAX_CONNECTIONS_PER_USER=10
